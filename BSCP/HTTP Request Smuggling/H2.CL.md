
---
![[Pasted image 20250807164241.png]]
Hem de aconseguir que a la victima rebi un alert(document.cookie)


Com es http2 doncs no cal indicar res de transfer encoding
![[Pasted image 20250807164458.png]]

la peticio smuggled doncs sera amb el protocol HTTP 1.1 i inflem el segon content length per poder posar coses al  cos de la peticio smuggled

D'aqui a enviar un alert(document.cookie) primer hem de trobar un XSS

Si posesim aixo dins de Host de la smuggled request
![[Pasted image 20250807164900.png]]
la resposta que rebriem es de 
![[Pasted image 20250807164914.png]]
es a dir, ens portasria a malicious.com/resources

Per tant, si posessim aixo dins del exploit server
![[Pasted image 20250807165017.png]]

Hi posessim la url dins del host a la nostra SMUGGLED REQUEST, 
![[Pasted image 20250807165058.png]]

estaria fent un get a /resources, que es el nostre arxiu real del exploit server, que tenim un arxiu javascript on fem un **alert**

![[Pasted image 20250807165236.png]]


Hem triat /resources ja que es una crida que es fa sempre que l usuari visita l'arrel de la web, per tant no donara mai 404.
![[Pasted image 20250807165433.png]]
![[Pasted image 20250807165439.png]]